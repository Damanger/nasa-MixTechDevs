import{g as y,a as _,d as $,L as w,j as e,D as z}from"./translations.B_Ehg3mh.js";import{r as o}from"./index.CQ95-tCy.js";const L=s=>{const t=Number(s);return Number.isFinite(t)?t:null},D=(s,t)=>s[t]??s[t.replaceAll(" ","_")]??s[t.replaceAll(".","")],G=s=>{const t=L(s["Equilibrium Temperature"]),i=L(s["Insolation Flux"]),d=t!=null&&t>=180&&t<=310,h=i!=null&&i>=.25&&i<=1.5;return d||h};function p(s,t){return s==null?"â€”":s<1e3?`${s.toLocaleString(t)}+`:`${(Math.round(s/100)*100).toLocaleString(t)}+`}function q({src:s="/exoplanets.json",lang:t=z,messages:i}){const[d,h]=o.useState(null),[f,v]=o.useState(null),m=y(t),[l,j]=o.useState(m),b=o.useMemo(()=>i&&l===m?i:_(l).stats,[l,i,m]);o.useEffect(()=>{const c=$(m);j(n=>n===c?n:c);const a=n=>{const u=y(n.detail?.lang);j(u)};return window.addEventListener(w,a),()=>window.removeEventListener(w,a)},[m]),o.useEffect(()=>{const c=new AbortController;return(async()=>{try{const a=await fetch(s,{signal:c.signal});if(!a.ok)throw new Error(`HTTP ${a.status}`);const n=await a.json();h(Array.isArray(n)?n:[])}catch(a){a.name!=="AbortError"&&v(a)}})(),()=>c.abort()},[s]);const k=o.useMemo(()=>{if(!d)return null;const c=d.length,a=new Set,n=new Map;let u=0;for(const g of d){const x=D(g,"Planet Host");x&&(a.add(x),n.set(x,(n.get(x)??0)+1)),G(g)&&u++}const P=a.size;let N=0;for(const[,g]of n)g>=2&&N++;return{total:c,systems:P,multiSystems:N,tempered:u}},[d]);if(f)return e.jsxs("section",{className:"glass card",style:{padding:"1rem"},children:[b.errorPrefix,": ",String(f)]});if(!k)return e.jsx("section",{className:"glass card",style:{padding:"1rem"},children:b.loading});const{total:E,systems:S,multiSystems:A,tempered:T}=k,{ariaLabel:M,heading:C,intro:F,cards:r}=b;return e.jsxs("section",{"aria-label":M,style:{marginTop:"1rem"},children:[e.jsx("h2",{style:{textAlign:"center",margin:"0 0 .5rem"},children:C}),e.jsx("p",{className:"subtitle",style:{textAlign:"center",margin:"0 0 1rem"},children:F}),e.jsxs("div",{className:"grid",children:[e.jsxs("article",{className:"glass card stat",children:[e.jsx("div",{className:"kicker",children:r.planets.kicker}),e.jsx("div",{className:"big",children:p(E,l)}),e.jsx("h3",{style:{margin:".25rem 0 .35rem"},children:r.planets.title}),e.jsx("p",{className:"subtitle",children:r.planets.description})]}),e.jsxs("article",{className:"glass card stat",children:[e.jsx("div",{className:"kicker",children:r.systems.kicker}),e.jsx("div",{className:"big",children:p(S,l)}),e.jsx("h3",{style:{margin:".25rem 0 .35rem"},children:r.systems.title}),e.jsx("p",{className:"subtitle",children:r.systems.description})]}),e.jsxs("article",{className:"glass card stat",children:[e.jsx("div",{className:"kicker",children:r.multi.kicker}),e.jsx("div",{className:"big",children:p(A,l)}),e.jsx("h3",{style:{margin:".25rem 0 .35rem"},children:r.multi.title}),e.jsx("p",{className:"subtitle",children:r.multi.description})]}),e.jsxs("article",{className:"glass card stat",children:[e.jsx("div",{className:"kicker",children:r.tempered.kicker}),e.jsx("div",{className:"big",children:p(T,l)}),e.jsx("h3",{style:{margin:".25rem 0 .35rem"},children:r.tempered.title}),e.jsx("p",{className:"subtitle",children:r.tempered.description})]})]}),e.jsx("style",{children:`
        .stat { text-align:center; padding:1.25rem; position:relative; }
        .kicker{
          display:inline-block; padding:.35rem .6rem; border-radius:999px;
          border:1px solid var(--glass-brd); background:rgba(255,255,255,.06);
          margin-bottom:.5rem;
          box-shadow: 0 0 30px rgba(137,180,255,.25), inset 0 1px 0 rgba(255,255,255,.05);
        }
        .big{
          font-weight:900; font-size: clamp(1.8rem, 5.5vw, 2.6rem);
          letter-spacing:.5px; margin:.1rem 0;
          background:linear-gradient(180deg, #e6eaff 0%, #b7c0e6 100%);
          -webkit-background-clip:text; background-clip:text; color:transparent;
          text-shadow: 0 0 32px rgba(137,180,255,.15);
        }
      `})]})}export{q as default};
