import{j as d}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.CQ95-tCy.js";import{D as h,d as x,g as v,L as g,b as E,a as S}from"./translations.CDCZRzi2.js";/* empty css                          */const b=r=>{try{localStorage.setItem(E,r)}catch{}try{document.cookie=`${E}=${r};path=/;max-age=31536000;samesite=lax`}catch{}},N=({lang:r=h,label:n="Idioma",options:u={}})=>{const m=c.useMemo(()=>Object.entries(u),[u]),[w,i]=c.useState(r);c.useEffect(()=>{i(r)},[r]);const p=s=>{const e=v(s);if(e===w)return;i(e);const o=new URL(window.location.href);e===h?o.searchParams.delete("lang"):o.searchParams.set("lang",e),b(e),window.location.pathname.startsWith("/analizar")&&e!==w?window.location.assign(o.toString()):(window.history.replaceState({},"",o.toString()),window.dispatchEvent(new CustomEvent(g,{detail:{lang:e}})))},f=c.useId();c.useEffect(()=>{if(typeof window>"u")return;const s=x(r),e=v(s),o=t=>{const l=new URL(window.location.href);t===h?l.searchParams.delete("lang"):l.searchParams.set("lang",t),window.history.replaceState({},"",l.toString())};window.location.pathname.startsWith("/analizar")||(i(t=>t===e?t:e),o(e),b(e),window.dispatchEvent(new CustomEvent(g,{detail:{lang:e}})));const a=t=>{const l=v(t.detail?.lang??h);i(l),window.location.pathname.startsWith("/analizar")||o(l)};return window.addEventListener(g,a),()=>{window.removeEventListener(g,a)}},[r]);const L=typeof window<"u"&&window.location.pathname.startsWith("/analizar");return d.jsxs("div",{className:"language-switcher",children:[d.jsx("span",{className:"language-switcher__label",id:f,children:n}),d.jsx("div",{className:"language-switcher__group",role:"group","aria-labelledby":f,children:m.map(([s,e])=>d.jsx("button",{type:"button",className:"language-switcher__button","data-active":s===w,onClick:()=>{if(L&&s!==w){const o=new URL(window.location.href);s===h?o.searchParams.delete("lang"):o.searchParams.set("lang",s),b(s),window.location.assign(o.toString())}else p(s)},children:e},s))})]})},$=({initialLang:r=h})=>{const[n,u]=c.useState(r),[m,w]=c.useState("/");c.useEffect(()=>{typeof window<"u"&&w(window.location.pathname||"/")},[]),c.useEffect(()=>{const a=x(r);u(l=>l===a?l:a);const t=l=>{const y=v(l.detail?.lang);u(y)};return window.addEventListener(g,t),()=>window.removeEventListener(g,t)},[r]);const i=c.useMemo(()=>S(n).layout,[n]),p=n===h?"/":`/?lang=${n}`,f=n===h?"/analizar":`/analizar?lang=${n}`,L=n===h?"/equipo":`/equipo?lang=${n}`,s=a=>{if(typeof window>"u")return a;try{return new URL(a,window.location.origin).pathname.replace(/\/+$/,"")||"/"}catch{return a}},e=c.useMemo(()=>m&&m.replace(/\/+$/,"")||"/",[m]),o=c.useMemo(()=>[{href:p,label:i.nav.home},{href:f,label:i.nav.analyze},{href:L,label:i.nav.team}],[p,f,L,i]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"badge",children:i.badge}),d.jsxs("nav",{className:"navbar",children:[o.map(a=>{const t=s(a.href)===e;return d.jsx("a",{href:a.href,"aria-current":t?"page":void 0,className:t?"active":void 0,"data-active":t?"true":"false",children:a.label},a.href)}),d.jsx(N,{lang:n,label:i.languageSwitcher.label,options:i.languageSwitcher.options})]})]})};export{$ as default};
