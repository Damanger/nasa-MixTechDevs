import{j as c}from"./jsx-runtime.D_zvdyIk.js";import{r as u}from"./index.CQ95-tCy.js";import{S as f}from"./404.5469552a.D6TKCTpD.js";function n(o,h){return Math.floor(Math.random()*(h-o+1))+o}function E({backgroundSrc:o="/MixTechDevs.webp",speed:h=.5,blur:x=1}){const d=u.useRef(null);return u.useEffect(()=>{const e=d.current;if(!e)return;const s=e.getContext("2d"),t={halfw:0,halfh:0,speed:h,warpZ:12},l=()=>{const a=window.devicePixelRatio||1,r=e.clientWidth,i=e.clientHeight;e.width=Math.floor(r*a),e.height=Math.floor(i*a),s.setTransform(a,0,0,a,0,0),t.halfw=r/2,t.halfh=i/2};l();const p=()=>`hsla(200, 100%, ${n(50,100)}%, 1)`;class g{constructor(){this.reset()}reset(){this.x0=n(-t.halfw,t.halfw),this.y0=n(-t.halfh,t.halfh),this.z=n(1,t.warpZ),this.color=p()}step(){this.z-=t.speed,this.z<=0&&this.reset();const r=this.x0/this.z,i=this.y0/this.z,y=this.x0/(this.z+t.speed*.5),z=this.y0/(this.z+t.speed*.5);(r<-t.halfw||r>t.halfw||i<-t.halfh||i>t.halfh)&&this.reset(),s.strokeStyle=this.color,s.beginPath(),s.moveTo(r+t.halfw,i+t.halfh),s.lineTo(y+t.halfw,z+t.halfh),s.stroke()}}const v=Array.from({length:250},()=>new g);let m;const w=()=>{m=requestAnimationFrame(w),s.fillStyle="rgba(0,0,0,0.2)",s.fillRect(0,0,e.clientWidth,e.clientHeight);for(const a of v)a.step()};return w(),window.addEventListener("resize",l),()=>{cancelAnimationFrame(m),window.removeEventListener("resize",l)}},[h]),c.jsxs("section",{className:f.spaceShipContainer,"aria-hidden":!0,children:[c.jsx("img",{src:o,alt:"",className:f.backgroundImage}),c.jsx("canvas",{ref:d,className:f.canvas,style:{filter:`blur(${x}px)`}})]})}export{E as default};
