import{D as g,d as x,g as f,L as u,j as s,b as L,a as v}from"./translations.B_Ehg3mh.js";import{r as o}from"./index.CQ95-tCy.js";const b=t=>{try{localStorage.setItem(L,t)}catch{}try{document.cookie=`${L}=${t};path=/;max-age=31536000;samesite=lax`}catch{}},j=({lang:t=g,label:n="Idioma",options:h={}})=>{const r=o.useMemo(()=>Object.entries(h),[h]),[l,d]=o.useState(t);o.useEffect(()=>{d(t)},[t]);const c=a=>{const e=f(a);if(e===l)return;d(e);const i=new URL(window.location.href);e===g?i.searchParams.delete("lang"):i.searchParams.set("lang",e),b(e),window.history.replaceState({},"",i.toString()),window.dispatchEvent(new CustomEvent(u,{detail:{lang:e}}))},m=o.useId();return o.useEffect(()=>{if(typeof window>"u")return;const a=x(t),e=f(a);d(w=>w===e?w:e);const i=new URL(window.location.href);e===g?i.searchParams.delete("lang"):i.searchParams.set("lang",e),window.history.replaceState({},"",i.toString()),b(e),window.dispatchEvent(new CustomEvent(u,{detail:{lang:e}}));const p=w=>{const E=f(w.detail?.lang??g);d(E)};return window.addEventListener(u,p),()=>{window.removeEventListener(u,p)}},[t]),s.jsxs("div",{className:"language-switcher",children:[s.jsx("span",{className:"language-switcher__label",id:m,children:n}),s.jsx("div",{className:"language-switcher__group",role:"group","aria-labelledby":m,children:r.map(([a,e])=>s.jsx("button",{type:"button",className:"language-switcher__button","data-active":a===l,onClick:()=>c(a),children:e},a))})]})},N=({initialLang:t=g})=>{const[n,h]=o.useState(t);o.useEffect(()=>{const c=x(t);h(a=>a===c?a:c);const m=a=>{const e=f(a.detail?.lang);h(e)};return window.addEventListener(u,m),()=>window.removeEventListener(u,m)},[t]);const r=o.useMemo(()=>v(n).layout,[n]),l=n===g?"/":`/?lang=${n}`,d=o.useMemo(()=>[{href:l,label:r.nav.home},{href:`${l}#metodos`,label:r.nav.methods},{href:`${l}#recursos`,label:r.nav.resources}],[l,r]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"badge",children:r.badge}),s.jsxs("nav",{children:[d.map(c=>s.jsx("a",{href:c.href,children:c.label},c.href)),s.jsx(j,{lang:n,label:r.languageSwitcher.label,options:r.languageSwitcher.options})]})]})};export{N as default};
