<!DOCTYPE html><html lang="es"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" type="image/webp" href="/MixTechDevs.webp" sizes="any"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="manifest" href="/manifest.webmanifest"><title>Imagen del día (NASA APOD)</title><meta name="description" content="Imágenes y videos astronómicos seleccionados por la NASA."><style>.apod[data-astro-cid-4yymedwj]{display:grid;gap:1rem}.apod__header[data-astro-cid-4yymedwj]{--cal-cell: 40px;display:grid;gap:1rem;padding:1.2rem 1.25rem 1.25rem;grid-template-columns:1fr;align-items:start;margin-top:1rem}.apod__title[data-astro-cid-4yymedwj]{margin:0;font-size:clamp(1.4rem,3vw,1.8rem)}.apod__subtitle[data-astro-cid-4yymedwj]{margin:.25rem 0 0;color:#fffc}.apod__side[data-astro-cid-4yymedwj]{display:grid;gap:.9rem;align-content:start;justify-items:stretch}.apod__label[data-astro-cid-4yymedwj]{font-size:.9rem;color:#fffc}.apod__native[data-astro-cid-4yymedwj]{display:grid;grid-template-columns:auto 1fr;gap:.6rem;align-items:center;width:100%}.apod__native[data-astro-cid-4yymedwj] input[data-astro-cid-4yymedwj][type=date]{width:100%;padding:.5rem .6rem;border-radius:10px;border:1px solid rgba(255,255,255,.18);background:#ffffff14;color:var(--text)}.apod__buttons[data-astro-cid-4yymedwj]{display:flex;gap:.5rem;flex-wrap:wrap}.apod__hint[data-astro-cid-4yymedwj]{color:#ffffffb3}@media (max-width: 820px){.apod__header[data-astro-cid-4yymedwj]{margin-top:-1rem}}@media (min-width: 1000px) and (max-width: 1023px){.apod__header[data-astro-cid-4yymedwj]{grid-template-columns:1.2fr 420px;align-items:start}.apod__header[data-astro-cid-4yymedwj]{--cal-cell: 42px}.apod__side[data-astro-cid-4yymedwj]{gap:1rem}}@media (min-width: 1024px) and (max-width: 1279px){.apod__header[data-astro-cid-4yymedwj]{grid-template-columns:1fr}.apod__header[data-astro-cid-4yymedwj]{--cal-cell: 44px}}@media (min-width: 1280px) and (max-width: 1439px){.apod__header[data-astro-cid-4yymedwj]{grid-template-columns:1fr 580px}.apod__header[data-astro-cid-4yymedwj]{--cal-cell: 48px}}@media (min-width: 1440px){.apod__header[data-astro-cid-4yymedwj]{grid-template-columns:1fr;--cal-cell: 44px}.apod__side[data-astro-cid-4yymedwj]{max-width:none}}.card[data-astro-cid-4yymedwj]{width:min(100%,1100px);margin:0 auto;border-radius:18px;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,.18);background:#ffffff0f;box-shadow:0 10px 30px #00000059;backdrop-filter:blur(12px) saturate(120%);-webkit-backdrop-filter:blur(12px) saturate(120%)}.media[data-astro-cid-4yymedwj]{display:block;position:relative;aspect-ratio:16 / 9;background:#ffffff0d}.media[data-astro-cid-4yymedwj] img[data-astro-cid-4yymedwj]{width:100%;height:100%;object-fit:cover;display:block}.media[data-astro-cid-4yymedwj].placeholder{display:grid;place-items:center;color:#fffc;font-size:.95rem;min-height:240px}.badge[data-astro-cid-4yymedwj]{position:absolute;top:12px;left:12px;padding:6px 10px;border-radius:999px;font-size:.75rem;background:#00000080;color:#fff;border:1px solid rgba(255,255,255,.25);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px)}.content[data-astro-cid-4yymedwj]{padding:1rem 1.25rem 1.5rem}.content[data-astro-cid-4yymedwj] h2[data-astro-cid-4yymedwj]{margin:0 0 .25rem;font-size:1.25rem;letter-spacing:.3px}.date[data-astro-cid-4yymedwj]{margin:.25rem 0 .75rem;color:#ffffffb3;font-size:.9rem}.desc[data-astro-cid-4yymedwj]{margin:.25rem 0 1rem;color:#ffffffe6;line-height:1.5;font-size:.95rem}.actions[data-astro-cid-4yymedwj]{display:flex;gap:.6rem;flex-wrap:wrap}.btn[data-astro-cid-4yymedwj]{display:inline-flex;align-items:center;gap:.4rem;padding:.55rem .85rem;border-radius:10px;color:#fff;text-decoration:none;background:linear-gradient(135deg,#ffffff2e,#ffffff0d);border:1px solid rgba(255,255,255,.28);box-shadow:0 6px 18px #00000040;transition:transform .15s ease,background .2s ease,box-shadow .2s ease;backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px)}.btn[data-astro-cid-4yymedwj]:hover{transform:translateY(-1px);background:linear-gradient(135deg,#ffffff38,#ffffff14);box-shadow:0 10px 24px #0000004d}.btn[data-astro-cid-4yymedwj].secondary{background:#ffffff14}
</style>
<link rel="stylesheet" href="/_astro/analizar.BYD7zmpa.css"></head> <body> <header class="site-header"> <div class="container"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var l=(n,t)=>{let i=async()=>{await(await n())()},e=typeof t.value=="object"?t.value:void 0,s={timeout:e==null?void 0:e.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,s):setTimeout(i,s.timeout||200)};(self.Astro||(self.Astro={})).idle=l;window.dispatchEvent(new Event("astro:idle"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1h4zIA" prefix="r2" component-url="/_astro/LanguageHeader.BHqIiqlo.js" component-export="default" renderer-url="/_astro/client.DKuENnH3.js" props="{&quot;initialLang&quot;:[0,&quot;es&quot;]}" ssr client="idle" opts="{&quot;name&quot;:&quot;LanguageHeader&quot;,&quot;value&quot;:true}" await-children><div class="badge">MixTechDevs</div><nav class="navbar"><a href="/" aria-current="page" class="active" data-active="true">Inicio</a><a href="/analizar" data-active="false">Analizar CSV</a><a href="/apod" data-active="false">Imagen del día</a><a href="/luna" data-active="false">Fase lunar</a><a href="/equipo" data-active="false">Equipo</a><div class="navbar-right"><div class="language-switcher"><div class="language-switcher__group" role="group" aria-labelledby="«r2Rq»"><button type="button" class="language-switcher__button" data-active="true">Español</button><button type="button" class="language-switcher__button" data-active="false">Inglés</button><button type="button" class="language-switcher__button" data-active="false">Alemán</button></div></div><div class="google-auth" style="display:flex;align-items:center"><button class="google-btn" aria-label="Iniciar sesión con Google" title="Iniciar sesión con Google" style="display:inline-flex;align-items:center;gap:0.4rem;padding:0.5rem 0.85rem;border-radius:999px;border:1px solid rgba(255,255,255,0.14);background:rgba(0,0,0,0.15);color:#e6eaff;cursor:pointer;font-weight:600"><svg width="18" height="18" viewBox="0 0 48 48" aria-hidden="true"><path fill="#FFC107" d="M43.611 20.083H42V20H24v8h11.303C33.928 32.91 29.419 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.63 6.053 29.532 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.651-.389-3.917z"></path><path fill="#FF3D00" d="M6.306 14.691l6.571 4.815C14.468 16.059 18.83 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.63 6.053 29.532 4 24 4 16.318 4 9.656 8.337 6.306 14.691z"></path><path fill="#4CAF50" d="M24 44c5.364 0 10.282-2.053 13.981-5.411l-6.462-5.466C29.329 35.318 26.793 36 24 36c-5.393 0-9.889-3.11-11.69-7.555l-6.57 5.06C8.06 39.593 15.45 44 24 44z"></path><path fill="#1976D2" d="M43.611 20.083H42V20H24v8h11.303c-1.147 3.41-3.583 6.08-6.784 7.123l6.462 5.466C38.508 37.574 44 31.5 44 24c0-1.341-.138-2.651-.389-3.917z"></path></svg><span style="margin-left:6px">Google</span></button></div></div></nav><!--astro:end--></astro-island> </div> </header> <main class="container">  <section class="apod" data-astro-cid-4yymedwj> <header class="apod__header glass" data-astro-cid-4yymedwj> <div class="apod__intro" data-astro-cid-4yymedwj> <h1 class="apod__title" data-astro-cid-4yymedwj>Imagen del día (NASA APOD)</h1> <p class="apod__subtitle" data-astro-cid-4yymedwj>Imágenes y videos astronómicos seleccionados por la NASA.</p> </div> <div class="apod__side" data-astro-cid-4yymedwj> <div class="apod__native" data-astro-cid-4yymedwj> <label class="apod__label" for="apod-date" data-astro-cid-4yymedwj>Fecha</label> <input id="apod-date" type="date" min="1995-06-16" max="2025-10-04" value="2025-10-01" data-astro-cid-4yymedwj> </div> <div class="apod__buttons" data-astro-cid-4yymedwj> <button type="button" id="apod-prev" class="btn secondary" data-astro-cid-4yymedwj>Anterior</button> <button type="button" id="apod-today" class="btn" data-astro-cid-4yymedwj>Hoy</button> <button type="button" id="apod-next" class="btn secondary" data-astro-cid-4yymedwj>Siguiente</button> </div> <small class="apod__hint" data-astro-cid-4yymedwj>No hay imágenes anteriores al 16/06/1995.</small> </div> </header> <div class="card" id="apod-card" data-astro-cid-4yymedwj> <a id="apod-link" href="https://apod.nasa.gov/apod/image/2510/WitchBroom_Meyers_6043.jpg" target="_blank" rel="noopener noreferrer" class="media" aria-label="Abrir imagen original" data-astro-cid-4yymedwj> <img id="apod-img" src="https://apod.nasa.gov/apod/image/2510/WitchBroom_Meyers_1080.jpg" alt="Astronomy Picture of the Day" loading="lazy" data-astro-cid-4yymedwj> <span id="apod-badge" class="badge" style="display:none" data-astro-cid-4yymedwj>Video</span> </a> <div class="media placeholder" id="apod-placeholder" style="display:none" data-astro-cid-4yymedwj> Este contenido no se puede mostrar. </div> <div class="content" data-astro-cid-4yymedwj> <h2 id="apod-heading" data-astro-cid-4yymedwj>Astronomy Picture of the Day</h2> <p class="date" id="apod-date-text" data-astro-cid-4yymedwj>2025-10-01</p> <p class="desc" id="apod-desc" data-astro-cid-4yymedwj>Ten thousand years ago, before the dawn of recorded human history, a new light would suddenly have appeared in the night sky and faded after a few weeks.  Today we know this light was from a supernova, or exploding star, and record the expanding debris cloud as the Veil Nebula, a supernova remnant.  This sharp telescopic view is centered on a western segment of the Veil Nebula cataloged as NGC 6960 but less formally known as the Witch&#39;s Broom Nebula.  Blasted out in the cataclysmic explosion, an interstellar shock wave plows through space sweeping up and exciting interstellar material. Imaged with narrow band filters, the glowing filaments are like long ripples in a sheet seen almost edge on, remarkably well separated into atomic hydrogen (red) and oxygen (blue-green) gas. The complete supernova remnant lies about 1400 light-years away towards the constellation Cygnus. This Witch&#39;s Broom actually spans about 35 light-years. The bright star in the frame is 52 Cygni, visible with the unaided eye from a dark location but unrelated to the ancient supernova remnant.</p> <div class="actions" data-astro-cid-4yymedwj> <a class="btn" id="apod-btn-view" href="https://apod.nasa.gov/apod/image/2510/WitchBroom_Meyers_1080.jpg" target="_blank" rel="noopener noreferrer" data-astro-cid-4yymedwj>Ver</a> <a class="btn secondary" id="apod-btn-hd" href="https://apod.nasa.gov/apod/image/2510/WitchBroom_Meyers_6043.jpg" target="_blank" rel="noopener noreferrer" data-astro-cid-4yymedwj>HD</a> </div> </div> </div>  </section> <script data-apikey="CA51Dk1L15D60sAEhhhbTgpFHwcOmrpYdLLNrG4W" data-min="1995-06-16" data-max="2025-10-04" data-lang="es" data-init="2025-10-01" data-prev-aria="Mes anterior" data-next-aria="Mes siguiente" data-alt="Imagen APOD" data-noimage="No se encontró una foto de ese día.">
    (function () {
      const S = document.currentScript;
      const API_KEY = S?.dataset?.apikey || 'DEMO_KEY';
      const MIN = S?.dataset?.min || '1995-06-16';
      const MAX = S?.dataset?.max;
      const LOCALE = S?.dataset?.lang || 'es';
      const INIT = S?.dataset?.init;
      const ARIA_PREV = S?.dataset?.prevAria || 'Previous month';
      const ARIA_NEXT = S?.dataset?.nextAria || 'Next month';
      const ALT_FALLBACK = S?.dataset?.alt || 'APOD';
      const NO_IMAGE_MSG = S?.dataset?.noimage || 'No image found for this day.';

      const $ = (id) => document.getElementById(id);
      const input = $('apod-date');
      const prev = $('apod-prev');
      const next = $('apod-next');
      const todayBtn = $('apod-today');
      const card = $('apod-card');
      const img = $('apod-img');
      const link = $('apod-link');
      const heading = $('apod-heading');
      const dateText = $('apod-date-text');
      const desc = $('apod-desc');
      const btnView = $('apod-btn-view');
      const btnHd = $('apod-btn-hd');
      const placeholder = $('apod-placeholder');
      const badge = $('apod-badge');
      const cal = $('apod-cal');

      function clearContent() {
        if (heading) heading.textContent = '';
        if (dateText) dateText.textContent = '';
        if (desc) desc.textContent = '';
      }

      // Date helpers using UTC to avoid timezone jumps
      function parseDate(s) {
        if (!s) return new Date();
        const [y, m, d] = String(s).split('-').map(Number);
        return new Date(Date.UTC(y, (m || 1) - 1, d || 1));
      }
      function formatUTC(date) {
        const p = (n) => String(n).padStart(2, '0');
        return `${date.getUTCFullYear()}-${p(date.getUTCMonth()+1)}-${p(date.getUTCDate())}`;
      }
      function formatLocal(date) {
        const p = (n) => String(n).padStart(2, '0');
        return `${date.getFullYear()}-${p(date.getMonth()+1)}-${p(date.getDate())}`;
      }

      function clamp(dateStr) {
        if (dateStr < MIN) return MIN;
        if (MAX && dateStr > MAX) return MAX;
        return dateStr;
      }

      async function fetchApod(dateStr) {
        const url = new URL('https://api.nasa.gov/planetary/apod');
        url.searchParams.set('api_key', API_KEY || 'DEMO_KEY');
        url.searchParams.set('thumbs', 'true');
        if (dateStr) url.searchParams.set('date', dateStr);
        const res = await fetch(url.toString());
        if (!res.ok) throw new Error('HTTP ' + res.status);
        return res.json();
      }

      function setLoading(loading) {
        card?.classList?.toggle('is-loading', !!loading);
      }

      function render(data) {
        if (!data) return;
        const isImage = data.media_type === 'image';
        const isVideo = data.media_type === 'video';
        const imageUrl = isImage ? data.url : data.thumbnail_url;
        if (imageUrl) {
          if (placeholder) {
            placeholder.style.display = 'none';
            placeholder.textContent = '';
          }
          if (img) {
            img.src = imageUrl;
            img.alt = data.title || ALT_FALLBACK;
            img.style.display = 'block';
          }
          if (link) {
            link.href = data.hdurl || data.url;
            link.style.display = 'block';
          }
        } else {
          // No image available: show placeholder message and hide media elements
          if (img) {
            img.src = '';
            img.style.display = 'none';
          }
          if (link) link.style.display = 'none';
          if (badge) badge.style.display = 'none';
          if (placeholder) {
            placeholder.textContent = NO_IMAGE_MSG;
            placeholder.style.display = 'grid';
          }
        }
        if (badge) {
          badge.style.display = (isVideo && imageUrl) ? 'inline-block' : 'none';
        }
        if (heading) heading.textContent = data.title || '';
        if (dateText) dateText.textContent = data.date || '';
        if (desc) desc.textContent = data.explanation || '';
        if (btnView) {
          btnView.href = data.url || '#';
          btnView.style.display = data.url ? 'inline-flex' : 'none';
        }
        if (btnHd) {
          btnHd.href = data.hdurl || '#';
          btnHd.style.display = (isImage && data.hdurl) ? 'inline-flex' : 'none';
        }
        if (input && data.date) input.value = clamp(data.date);
        updateNextDisabled();
      }

      function updateNextDisabled() {
        if (!next || !MAX) return;
        const current = input?.value || selected;
        next.disabled = current >= MAX;
      }

      async function go(dateStr) {
        const target = clamp(dateStr);
        // Reset UI to avoid showing stale media while loading
        if (img) { img.src = ''; img.style.display = 'none'; }
        if (link) { link.style.display = 'none'; link.removeAttribute('href'); }
        if (badge) { badge.style.display = 'none'; }
        if (btnView) { btnView.style.display = 'none'; btnView.removeAttribute('href'); }
        if (btnHd) { btnHd.style.display = 'none'; btnHd.removeAttribute('href'); }
        if (placeholder) {
          placeholder.textContent = '';
          placeholder.style.display = 'none';
        }
        clearContent();
        if (input && target) input.value = target;
        updateNextDisabled();

        try {
          setLoading(true);
          const data = await fetchApod(target);
          render(data);
          calendarSetSelected(data?.date || target, true);
        } catch (e) {
          console.error(e);
          // On error, ensure only the placeholder is visible
          if (img) { img.src = ''; img.style.display = 'none'; }
          if (link) { link.style.display = 'none'; }
          if (badge) { badge.style.display = 'none'; }
          if (btnView) { btnView.style.display = 'none'; }
          if (btnHd) { btnHd.style.display = 'none'; }
          clearContent();
          if (placeholder) {
            const msg = String(e?.message || 'Error');
            placeholder.textContent = /404/.test(msg) ? NO_IMAGE_MSG : msg;
            placeholder.style.display = 'grid';
          }
        } finally {
          setLoading(false);
        }
      }

      if (input) {
        input.addEventListener('change', () => go(clamp(input.value)));
      }
      if (prev) {
        prev.addEventListener('click', () => {
          const d = parseDate((input?.value) || selected || MAX);
          d.setUTCDate(d.getUTCDate() - 1);
          const nextDate = clamp(formatUTC(d));
          if (input) input.value = nextDate;
          go(nextDate);
        });
      }
      if (next) {
        next.addEventListener('click', () => {
          const d = parseDate((input?.value) || selected || MAX);
          d.setUTCDate(d.getUTCDate() + 1);
          const nextDate = clamp(formatUTC(d));
          if (input) input.value = nextDate;
          go(nextDate);
        });
      }
      if (todayBtn) {
        todayBtn.addEventListener('click', () => {
          if (input) input.value = MAX;
          go(MAX);
        });
      }

      updateNextDisabled();

      // Planet calendar
      let selected = clamp(INIT || MAX);
      let view = new Date(selected || MAX);
      view.setDate(1);

      function monthTitle(date) {
        return date.toLocaleDateString(LOCALE, { month: 'short', year: 'numeric' });
      }

      function removeDiacritics(s) {
        return s.normalize('NFD').replace(/\p{Diacritic}/gu, '');
      }
      function getWeekdays(weekStartsOn = 0) {
        const base = new Date(2024, 8, 1); // Sunday
        const names = [];
        for (let i=0;i<7;i++) {
          const d = new Date(base);
          d.setDate(base.getDate()+i);
          let n = d.toLocaleDateString(LOCALE, { weekday: 'short' });
          n = removeDiacritics(n).replace(/\.$/, '');
          n = n.slice(0, 2);
          n = n.charAt(0).toUpperCase() + n.slice(1).toLowerCase();
          names.push(n);
        }
        // rotate according to week start
        if (weekStartsOn) {
          return names.slice(weekStartsOn).concat(names.slice(0, weekStartsOn));
        }
        return names;
      }

      function startOfWeek(date, weekStartsOn = 0) {
        const d = new Date(date);
        const day = d.getDay();
        const diff = (day - weekStartsOn + 7) % 7;
        d.setDate(d.getDate() - diff);
        d.setHours(0,0,0,0);
        return d;
      }

      function daysForView(date, weekStartsOn = 0) {
        const first = new Date(date.getFullYear(), date.getMonth(), 1);
        const last = new Date(date.getFullYear(), date.getMonth()+1, 0);
        const start = startOfWeek(first, weekStartsOn);
        const total = 42; // 6 weeks
        const list = [];
        for (let i=0;i<total;i++) {
          const cur = new Date(start);
          cur.setDate(start.getDate()+i);
          const s = formatLocal(cur);
          const item = {
            date: cur,
            s,
            inMonth: cur.getMonth() === date.getMonth(),
            disabled: s < MIN || (MAX && s > MAX),
            isToday: MAX && s === MAX,
            isSelected: selected && s === selected,
          };
          list.push(item);
        }
        return { first, last, list };
      }

      function clear(el) { while (el.firstChild) el.removeChild(el.firstChild); }

      function renderCalendar() {
        if (!cal) return;
        clear(cal);
        const weekStartsOn = /^(es|de)(-|$|_)/i.test(LOCALE) ? 1 : 0;

        // Header
        const header = document.createElement('div');
        header.className = 'cal-header';
        const btnPrev = document.createElement('button');
        btnPrev.className = 'cal-nav';
        btnPrev.setAttribute('aria-label', ARIA_PREV);
        btnPrev.textContent = '‹';
        const title = document.createElement('div');
        title.className = 'cal-title';
        title.textContent = monthTitle(view);
        const btnNext = document.createElement('button');
        btnNext.className = 'cal-nav';
        btnNext.setAttribute('aria-label', ARIA_NEXT);
        btnNext.textContent = '›';
        header.append(btnPrev, title, btnNext);
        cal.appendChild(header);

        // Weekday headers
        const dow = document.createElement('div');
        dow.className = 'cal-dow';
        for (const name of getWeekdays(weekStartsOn)) {
          const s = document.createElement('span');
          s.textContent = name;
          dow.appendChild(s);
        }
        cal.appendChild(dow);

        // Grid
        const grid = document.createElement('div');
        grid.className = 'cal-grid';
        const { list } = daysForView(view, weekStartsOn);
        list.forEach((d) => {
          let cell;
          if (!d.inMonth) {
            cell = document.createElement('div');
            cell.className = 'cal-date cal-empty';
          } else {
            cell = document.createElement('button');
            cell.type = 'button';
            cell.className = 'cal-date';
            cell.textContent = String(d.date.getDate());
            if (d.disabled) cell.setAttribute('disabled', '');
            if (d.isToday) cell.classList.add('is-today');
            if (d.isSelected) cell.classList.add('is-selected');
            cell.addEventListener('click', () => {
              if (d.disabled) return;
              if (input) input.value = d.s;
              go(d.s);
            });
          }
          grid.appendChild(cell);
        });
        cal.appendChild(grid);

        btnPrev.addEventListener('click', () => {
          view = new Date(view.getFullYear(), view.getMonth()-1, 1);
          renderCalendar();
        });
        btnNext.addEventListener('click', () => {
          view = new Date(view.getFullYear(), view.getMonth()+1, 1);
          renderCalendar();
        });
      }

      function calendarSetSelected(dateStr, alignView) {
        if (!dateStr) return;
        selected = clamp(dateStr);
        if (alignView) {
          const d = new Date(selected);
          view = new Date(d.getFullYear(), d.getMonth(), 1);
        }
        renderCalendar();
      }

      // Init calendar with current selection
      renderCalendar();
      if (selected) calendarSetSelected(selected, true);
      if (input && selected) input.value = selected;
    })();
  </script>  </main> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><astro-island uid="ZRPLOl" component-url="/_astro/ScrollToTopButton.CgWnvlkN.js" component-export="default" renderer-url="/_astro/client.DKuENnH3.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;ScrollToTopButton&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> <astro-island uid="Z2n4tLk" prefix="r3" component-url="/_astro/LanguageFooter.8-rlrhbZ.js" component-export="default" renderer-url="/_astro/client.DKuENnH3.js" props="{&quot;initialLang&quot;:[0,&quot;es&quot;]}" ssr client="idle" opts="{&quot;name&quot;:&quot;LanguageFooter&quot;,&quot;value&quot;:true}" await-children><footer><div class="container"><div class="navbar footerbar" role="contentinfo" aria-label="Site footer">© 2025 MixTechDevs</div></div></footer><!--astro:end--></astro-island> </body></html>