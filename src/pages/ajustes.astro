---
import Layout from "../layouts/Layout.astro";
import { DEFAULT_LANG, getLanguageSafe, getTranslations } from "../i18n/translations.js";
import BackgroundColorSettings from "../components/BackgroundColorSettings.jsx";

const langParam = Astro.url.searchParams.get("lang");
const lang = getLanguageSafe(langParam ?? DEFAULT_LANG);
const translations = getTranslations(lang);
const settings = translations.settings;
---

<Layout lang={lang} translations={translations}>
  <section class="glass card settings-hero">
    <h1 style="margin:0; font-size:clamp(2rem,5vw,2.6rem);">{settings.title}</h1>
    <h3 class="subtitle" style="max-width:560px; margin:0.5rem auto 0; font-weight:500; color:var(--text-secondary);">{settings.subtitle}</h2>
  </section>

  <section class="settings-grid">
    <BackgroundColorSettings client:load strings={settings.background} />
  </section>
</Layout>

<style>
  .settings-hero { margin-top: 0rem; padding: 2.5rem; text-align: center; }
  @media (min-width: 821px) {
    .settings-hero { margin-top: 2rem; }
  }

  .settings-grid {
    margin-top: 1.5rem;
  }

  .settings-grid :global(.settings-card) {
    width: 100%;
    padding: clamp(1.25rem, 4vw, 1.75rem);
  }
</style>
