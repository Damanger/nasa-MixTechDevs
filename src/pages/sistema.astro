---
import Layout from "../layouts/Layout.astro";
import { DEFAULT_LANG, getLanguageSafe, getTranslations } from "../i18n/translations.js";
import SolarSystemBuilder from "../components/SolarSystemBuilder.jsx";

const langParam = Astro.url.searchParams.get("lang");
const lang = getLanguageSafe(langParam ?? DEFAULT_LANG);
const translations = getTranslations(lang);
const solar = translations.solar ?? {
  title: lang === 'en' ? 'My Solar System' : lang === 'de' ? 'Mein Sonnensystem' : 'Mi sistema solar',
  subtitle: lang === 'en' ? 'Configure planets and star, then watch them orbit.' : (lang === 'de' ? 'Konfiguriere Planeten und Stern und beobachte die Umläufe.' : 'Configura planetas y sol, y observa su órbita.'),
};
---

<Layout lang={lang} translations={translations}>
  <section class="glass settings-hero">
    <h1 style="margin:0; font-size:clamp(2rem,5vw,2.6rem);">{solar.title}</h1>
    <h3 class="subtitle" style="max-width:560px; margin:0.5rem auto 0; font-weight:500; color:var(--text-secondary);">{solar.subtitle}</h3>
  </section>

  <section class="builder-grid">
    <SolarSystemBuilder client:only="react" />
  </section>
</Layout>

<style>
  .settings-hero { margin-top: 0rem; padding: 2.0rem; text-align: center; }
  @media (min-width: 821px) { .settings-hero { margin-top: 1.5rem; } }
  .builder-grid { margin-top: 1rem; }
  .subtitle { color: var(--muted); }
  .glass { background: var(--glass-bg); border: 1px solid var(--glass-brd); border-radius: 14px; }
  .settings-hero.glass { backdrop-filter: blur(14px) saturate(120%); }
</style>

