---
import Layout from "../layouts/Layout.astro";
import ExoplanetHero from "../components/ExoplanetHero.jsx";
import ExoSummary from "../components/ExoSummary.jsx";
import ExoStats from "../components/ExoStats.jsx";
import ExoSearch from "../components/ExoSearch.jsx";
import ExoCompare from "../components/ExoCompare.jsx";
import { DEFAULT_LANG, getLanguageSafe, getTranslations } from "../i18n/translations.js";

const langParam = Astro.url.searchParams.get("lang");
const lang = getLanguageSafe(langParam ?? DEFAULT_LANG);
const translations = getTranslations(lang);
const { meta, hero, summary, search, stats, compare } = translations;
---
<Layout lang={lang} title={meta.title} description={meta.description} translations={translations}>
  <ExoplanetHero client:visible lang={lang} messages={hero} />

  <ExoStats client:visible lang={lang} messages={stats} src="/exoplanets.csv" />

  <ExoSummary client:visible lang={lang} messages={summary} src="/exoplanets.csv" />

  <ExoCompare client:visible lang={lang} messages={compare} src="/exoplanets.csv" />

  <ExoSearch client:visible lang={lang} messages={search} src="/exoplanets.csv" />
</Layout>
