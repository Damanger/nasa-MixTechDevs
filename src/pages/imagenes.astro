---
import Layout from "../layouts/Layout.astro";
import ApodGallery from "../components/ApodGallery.jsx";
import { DEFAULT_LANG, getLanguageSafe, getTranslations } from "../i18n/translations.js";

const langParam = Astro.url.searchParams.get("lang");
const lang = getLanguageSafe(langParam ?? DEFAULT_LANG);
const messages = getTranslations(lang);
const title = (messages?.apod?.savedTitle) || "Imágenes guardadas";
const description = (messages?.apod?.savedSubtitle) || "Tu colección de APOD";
---
<Layout lang={lang} title={title} description={description} translations={messages}>
  <section class="container">
    <article class="glass" style="padding: 1rem 1.25rem; margin-top: 1rem;">
      <h1 style="margin: 0 0 12px 0;">{title}</h1>
      <ApodGallery client:only="react" />
    </article>
  </section>
</Layout>

