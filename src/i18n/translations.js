export const SUPPORTED_LANGUAGES = ["es", "en", "de"];
export const DEFAULT_LANG = "es";
export const LANG_COOKIE = "exo_lang";
export const LANG_EVENT = "exo:lang-change";

const dictionaries = {
  es: {
    meta: {
      title: "MixTechDevs | Explorador de Exoplanetas",
      description: "Analiza archivos CSV para confirmar y visualizar exoplanetas con MixTechDevs."
    },
    notFound: {
      title: "404 ‚Äì P√°gina no encontrada",
      heading: "Perdido en la galaxia",
      description: "404 ‚Äì La p√°gina que buscas no existe.",
      ctaHome: "Volver al inicio",
      ctaExplore: "Explorar datos"
    },
    layout: {
      badge: "MixTechDevs",
      nav: {
        home: "Inicio",
        analyze: "Analizar CSV",
        team: "Equipo"
      },
      languageSwitcher: {
        label: "Idioma",
        options: {
          es: "Espa√±ol",
          en: "Ingl√©s",
          de: "Alem√°n"
        }
      },
      footer: "¬© {year} MixTechDevs"
    },
    hero: {
      badge: "MixTechDevs ¬∑ Exoplanetas",
      title: "Descubre exoplanetas a partir de tus CSV",
      subtitle: {
        leading: "Una suite de ",
        highlight: "herramientas MixTechDevs",
        trailing: " que analiza archivos CSV para detectar y comprender nuevos mundos."
      },
      ctaPrimary: "Importar CSV",
      ctaSecondary: "Ver gu√≠as",
      hints: [
        "Carga un CSV y valida exoplanetas al instante",
        "Detecta patrones en cat√°logos observacionales",
        "Clasifica por m√©todo, masa o habitabilidad"
      ],
    },
    sections: {
      methods: {
        cards: [
          {
            title: "M√©todo de Tr√°nsitos",
            description: "Detecta eclipses peri√≥dicos interpretando curvas de luz almacenadas en tus CSV."
          },
          {
            title: "Velocidad Radial",
            description: "Analiza series temporales en CSV para revelar desplazamientos Doppler y confirmar se√±ales."
          },
          {
            title: "Imagen Directa",
            description: "Cruza metadatos espectrales y posiciones guardadas en CSV para aislar candidatos observacionales."
          }
        ]
      },
      resources: {
        cards: [
          {
            title: "Cat√°logos",
            description: "Integra CSV propios o APIs como el NASA Exoplanet Archive y sincroniza filtros personalizados."
          },
          {
            title: "Visualizaciones",
            description: "Genera gr√°ficos interactivos a partir de columnas CSV: curvas de luz, masa-radio y m√°s."
          },
          {
            title: "Documentaci√≥n",
            description: "Configura rutas adicionales con flujos paso a paso para importar, depurar y validar tus CSV."
          }
        ]
      }
    },
    summary: {
      ariaLabel: "Resumen de exoplanetas",
      loading: "Procesando exoplanetas desde tu CSV‚Ä¶",
      errorPrefix: "Error cargando datos del CSV",
      nullLabel: "Null",
      cards: {
        total: {
          title: "Total",
          description: "Registros detectados tras la importaci√≥n del CSV."
        },
        timeRange: {
          title: "Rango temporal",
          description: "Primer y √∫ltimo a√±o reportado en el CSV."
        },
        topMethods: {
          title: "M√©todos principales"
        },
        nearest: {
          title: "M√°s cercanos",
          note: "Valores normalizados desde las columnas de distancia del CSV."
        }
      }
    },
    search: {
      title: "Explorador de CSV",
      filters: {
        queryPlaceholder: "Buscar por planeta u host‚Ä¶",
        methodAll: "Todos",
        yearMin: "A√±o m√≠n.",
        yearMax: "A√±o m√°x."
      },
      tableHeaders: {
        planet: "Planeta",
        host: "Host",
        method: "M√©todo",
        year: "A√±o",
        mass: "Masa",
        distance: "Distancia"
      },
      summary: "Mostrando {shown} de {total} filas procesadas."
    },
    analyze: {
      title: "Analizar CSV",
      message: "La ruta /analizar est√° lista. Carga tus archivos CSV cuando gustes."
    },
    analyzeUI: {
      uploadHeading: "1) Cargar CSV",
      dropHint: "Arrastra y suelta tu CSV aqu√≠, o haz clic para elegir",
      headersHint: "El CSV debe incluir encabezados en la primera fila.",
      selectFile: "Elegir archivo",
      fileInfo: {
        name: "Archivo",
        rows: "Filas",
        cols: "Columnas"
      },
      mappingHeading: "2) Mapeo de columnas",
      metricsHeading: "3) M√©tricas y visualizaciones",
      previewHeading: "4) Vista previa del resultado del modelo (futuro)",
      clear: "Reiniciar",
      showMetrics: "Mostrar m√©tricas",
      showCharts: "Mostrar gr√°ficos",
      downloadExample: "Descargar ejemplo JSON"
    },
    team: {
      title: "MixTechDevs ¬∑ Equipo",
      message: "Conoce a las personas detr√°s de MixTechDevs.",
      roles: {
        pm: "Gerente de proyecto",
        ds: "Cient√≠fico de Datos",
        be: "Ingeniero BackEnd",
        uiux: "L√≠der de Negocios",
        content: "Creadora de contenido",
        felead: "L√≠der FrontEnd"
      }
    },
    compare: {
      heading: "Tierra vs Exoplaneta",
      description: {
        intro: "Comparaci√≥n visual (no a escala) entre la Tierra y un exoplaneta seleccionado; los radios se escalan con",
        outro: "."
      },
      formula: {
        base: "r ‚àù M",
        exponent: "1/3"
      },
      inputPlaceholder: "Escribe/elige un exoplaneta‚Ä¶",
      toggle: {
        stop: "Detener",
        rotate: "Rotar"
      },
      earthLabel: "Tierra",
      jupiterLabel: "J√∫piter",
      nullLabel: "Null",
      modes: {
        earthExo: "Tierra + Seleccionado",
        jupiterExo: "J√∫piter + Seleccionado",
        all: "Los tres"
      },
      facts: {
        mass: "Masa",
        radius: "Radio (visual)",
        tempEq: "Temp. eq.",
        method: "M√©todo",
        year: "A√±o",
        host: "Estrella anfitriona",
        spectralType: "Tipo espectral",
        distance: "Distancia"
      },
      suffixes: {
        mass: " M‚äï",
        radius: " R‚äï",
        temp: " K",
        distance: " pc"
      },
      disclaimer: "Nota: visualizaci√≥n derivada de valores estimados en tus CSV; \"not to scale\". Para radios f√≠sicos, utiliza mediciones directas o relaciones masa‚Äìradio especializadas.",
      context: {
        title: "¬øPor qu√© comparar?",
        body: "Este m√≥dulo contrasta los datos extra√≠dos del CSV con par√°metros terrestres para validar la detecci√≥n."
      }
    },
    stats: {
      ariaLabel: "Escala MixTechDevs del descubrimiento",
      heading: "Escala MixTechDevs del descubrimiento",
      intro: "Resumimos los indicadores clave detectados autom√°ticamente a partir de tus CSV de exoplanetas.",
      loading: "Calculando m√©tricas desde el CSV‚Ä¶",
      errorPrefix: "Error al generar m√©tricas",
      cards: {
        planets: {
          kicker: "ü™ê",
          title: "Exoplanetas confirmados",
          description: "Planetas identificados tras las rutinas de validaci√≥n de MixTechDevs."
        },
        systems: {
          kicker: "‚≠êÔ∏è",
          title: "Sistemas planetarios",
          description: "Estrellas anfitrionas agrupadas desde el CSV procesado."
        },
        multi: {
          kicker: "üñºÔ∏è",
          title: "Sistemas multi-planeta",
          description: "Hosts con ‚â• 2 se√±ales despu√©s del an√°lisis de filas."
        },
        tempered: {
          kicker: "üåç",
          title: "Candidatos ‚Äútemplados‚Äù",
          description: "Selecci√≥n heur√≠stica basada en temperatura o insolaci√≥n dentro del CSV."
        }
      }
    }
  },
  en: {
    meta: {
      title: "MixTechDevs | Exoplanet Explorer",
      description: "Analyze CSV files to confirm and visualize exoplanets with MixTechDevs."
    },
    notFound: {
      title: "404 ‚Äì Page not found",
      heading: "Lost in the galaxy",
      description: "404 ‚Äì The page you‚Äôre looking for doesn‚Äôt exist.",
      ctaHome: "Go home",
      ctaExplore: "Explore data"
    },
    layout: {
      badge: "MixTechDevs",
      nav: {
        home: "Home",
        analyze: "Analyze CSV",
        team: "Team"
      },
      languageSwitcher: {
        label: "Language",
        options: {
          es: "Spanish",
          en: "English",
          de: "German"
        }
      },
      footer: "¬© {year} MixTechDevs"
    },
    hero: {
      badge: "MixTechDevs ¬∑ Exoplanets",
      title: "Discover exoplanets from your CSVs",
      subtitle: {
        leading: "A suite of ",
        highlight: "MixTechDevs tools",
        trailing: " that parses CSV files to detect and understand new worlds."
      },
      ctaPrimary: "Import CSV",
      ctaSecondary: "View guides",
      hints: [
        "Upload a CSV and validate exoplanets instantly",
        "Spot patterns in observational catalogues",
        "Classify by method, mass, or habitability"
      ],
    },
    sections: {
      methods: {
        cards: [
          {
            title: "Transit Method",
            description: "Detect periodic dips by interpreting light curves stored in your CSV files."
          },
          {
            title: "Radial Velocity",
            description: "Analyze time-series data in CSV format to uncover Doppler shifts and confirm signals."
          },
          {
            title: "Direct Imaging",
            description: "Cross-match spectral metadata and positions recorded in CSVs to isolate observational candidates."
          }
        ]
      },
      resources: {
        cards: [
          {
            title: "Catalogues",
            description: "Ingest your own CSVs or public APIs like NASA‚Äôs Exoplanet Archive and sync tailored filters."
          },
          {
            title: "Visualisations",
            description: "Generate interactive plots from CSV columns: light curves, mass‚Äìradius charts, and more."
          },
          {
            title: "Documentation",
            description: "Create extra routes with step-by-step flows to import, clean, and validate your CSV data."
          }
        ]
      }
    },
    summary: {
      ariaLabel: "Exoplanet summary",
      loading: "Processing exoplanets from your CSV‚Ä¶",
      errorPrefix: "Error loading CSV data",
      nullLabel: "Null",
      cards: {
        total: {
          title: "Total",
          description: "Records detected after importing the CSV."
        },
        timeRange: {
          title: "Time range",
          description: "Earliest and latest discovery year reported in the CSV."
        },
        topMethods: {
          title: "Top methods"
        },
        nearest: {
          title: "Closest",
          note: "Values normalised from the CSV distance columns."
        }
      }
    },
    search: {
      title: "CSV explorer",
      filters: {
        queryPlaceholder: "Search by planet or host‚Ä¶",
        methodAll: "All",
        yearMin: "Min year",
        yearMax: "Max year"
      },
      tableHeaders: {
        planet: "Planet",
        host: "Host",
        method: "Method",
        year: "Year",
        mass: "Mass",
        distance: "Distance"
      },
      summary: "Showing {shown} of {total} processed rows."
    },
    analyze: {
      title: "Analyze CSV",
      message: "Route /analizar is live. Drop your CSV files here when you're ready."
    },
    analyzeUI: {
      uploadHeading: "1) Upload CSV",
      dropHint: "Drag & drop your CSV here, or click to choose",
      headersHint: "The CSV must include headers in the first row.",
      selectFile: "Choose file",
      fileInfo: {
        name: "File",
        rows: "Rows",
        cols: "Columns"
      },
      mappingHeading: "2) Column mapping",
      metricsHeading: "3) Metrics & visualizations",
      previewHeading: "4) Model output preview (future)",
      clear: "Reset",
      showMetrics: "Show metrics",
      showCharts: "Show charts",
      downloadExample: "Download example JSON"
    },
    team: {
      title: "MixTechDevs ¬∑ Team",
      message: "Meet the people behind MixTechDevs.",
      roles: {
        pm: "Project Manager",
        ds: "Data Scientist",
        be: "Backend Engineer",
        uiux: "Business Lead",
        content: "Content Creator",
        felead: "FrontEnd Lead"
      }
    },
    compare: {
      heading: "Earth vs Exoplanet",
      description: {
        intro: "Visual comparison (not to scale) between Earth and a selected exoplanet; radii scale with",
        outro: "."
      },
      formula: {
        base: "r ‚àù M",
        exponent: "1/3"
      },
      inputPlaceholder: "Type/select an exoplanet‚Ä¶",
      toggle: {
        stop: "Stop",
        rotate: "Rotate"
      },
      earthLabel: "Earth",
      jupiterLabel: "Jupiter",
      nullLabel: "Null",
      modes: {
        earthExo: "Earth + Selected",
        jupiterExo: "Jupiter + Selected",
        all: "All three"
      },
      facts: {
        mass: "Mass",
        radius: "Visual radius",
        tempEq: "Equilibrium temp.",
        method: "Method",
        year: "Year",
        host: "Host",
        spectralType: "Spectral type",
        distance: "Distance"
      },
      suffixes: {
        mass: " M‚äï",
        radius: " R‚äï",
        temp: " K",
        distance: " pc"
      },
      disclaimer: "Note: visualization derives from estimates in your CSV and is not to scale. For physical radii, rely on measured values or specialised mass‚Äìradius relations.",
      context: {
        title: "Why compare?",
        body: "The module contrasts CSV-derived data with Earth baselines to validate detections."
      }
    },
    stats: {
      ariaLabel: "MixTechDevs discovery scale",
      heading: "MixTechDevs discovery scale",
      intro: "Key indicators automatically extracted from your exoplanet CSV.",
      loading: "Calculating metrics from the CSV‚Ä¶",
      errorPrefix: "Error generating metrics",
      cards: {
        planets: {
          kicker: "ü™ê",
          title: "Confirmed exoplanets",
          description: "Planets identified after MixTechDevs validation routines."
        },
        systems: {
          kicker: "‚≠êÔ∏è",
          title: "Planetary systems",
          description: "Host stars grouped from the processed CSV."
        },
        multi: {
          kicker: "üñºÔ∏è",
          title: "Multi-planet systems",
          description: "Hosts with ‚â• 2 signals after row analysis."
        },
        tempered: {
          kicker: "üåç",
          title: "Tempered candidates",
          description: "Heuristic selection based on temperature or insolation columns in the CSV."
        }
      }
    }
  },
  de: {
    meta: {
      title: "MixTechDevs | Exoplaneten-Explorer",
      description: "Analysiere CSV-Dateien, um Exoplaneten mit MixTechDevs zu best√§tigen und zu visualisieren."
    },
    notFound: {
      title: "404 ‚Äì Seite nicht gefunden",
      heading: "Verloren in der Galaxie",
      description: "404 ‚Äì Die gesuchte Seite existiert nicht.",
      ctaHome: "Zur Startseite",
      ctaExplore: "Daten erkunden"
    },
    layout: {
      badge: "MixTechDevs",
      nav: {
        home: "Startseite",
        analyze: "CSV analysieren",
        team: "Team"
      },
      languageSwitcher: {
        label: "Sprache",
        options: {
          es: "Spanisch",
          en: "Englisch",
          de: "Deutsch"
        }
      },
      footer: "¬© {year} MixTechDevs"
    },
    hero: {
      badge: "MixTechDevs ¬∑ Exoplaneten",
      title: "Entdecke Exoplaneten aus deinen CSV-Dateien",
      subtitle: {
        leading: "Ein Set von ",
        highlight: "MixTechDevs-Werkzeugen",
        trailing: " das CSV-Dateien auswertet, um neue Welten aufzusp√ºren und zu verstehen."
      },
      ctaPrimary: "CSV importieren",
      ctaSecondary: "Leitf√§den ansehen",
      hints: [
        "Lade ein CSV hoch und pr√ºfe Exoplaneten sofort",
        "Erkenne Muster in Beobachtungskatalogen",
        "Klassifiziere nach Methode, Masse oder Habitabilit√§t"
      ],
    },
    sections: {
      methods: {
        cards: [
          {
            title: "Transitmethode",
            description: "Erkenne periodische Abdunklungen, indem du Lichtkurven aus deinen CSV-Dateien interpretierst."
          },
          {
            title: "Radialgeschwindigkeit",
            description: "Analysiere Zeitreihen im CSV-Format, um Dopplerverschiebungen aufzusp√ºren und Signale zu best√§tigen."
          },
          {
            title: "Direktabbildung",
            description: "Vernetze spektrale Metadaten und Positionen aus CSVs, um Beobachtungskandidaten zu isolieren."
          }
        ]
      },
      resources: {
        cards: [
          {
            title: "Kataloge",
            description: "Binde eigene CSVs oder APIs wie das NASA Exoplanet Archive ein und synchronisiere ma√ügeschneiderte Filter."
          },
          {
            title: "Visualisierungen",
            description: "Erzeuge interaktive Diagramme aus CSV-Spalten: Lichtkurven, Masse-Radius-Plots und mehr."
          },
          {
            title: "Dokumentation",
            description: "Plane zus√§tzliche Routen mit Schritt-f√ºr-Schritt-Abl√§ufen zum Importieren, Bereinigen und Validieren deiner CSVs."
          }
        ]
      }
    },
    summary: {
      ariaLabel: "Exoplaneten-√úbersicht",
      loading: "Exoplaneten aus deinem CSV werden verarbeitet‚Ä¶",
      errorPrefix: "Fehler beim Laden der CSV-Daten",
      nullLabel: "Null",
      cards: {
        total: {
          title: "Gesamt",
          description: "Eintr√§ge, die nach dem CSV-Import erkannt wurden."
        },
        timeRange: {
          title: "Zeitspanne",
          description: "Fr√ºhestes und sp√§testes im CSV gemeldetes Entdeckungsjahr."
        },
        topMethods: {
          title: "Wichtigste Methoden"
        },
        nearest: {
          title: "N√§chste",
          note: "Werte normalisiert aus den Distanzspalten des CSV."
        }
      }
    },
    search: {
      title: "CSV-Explorer",
      filters: {
        queryPlaceholder: "Nach Planet oder Stern suchen‚Ä¶",
        methodAll: "Alle",
        yearMin: "Jahr min",
        yearMax: "Jahr max"
      },
      tableHeaders: {
        planet: "Planet",
        host: "Stern",
        method: "Methode",
        year: "Jahr",
        mass: "Masse",
        distance: "Distanz"
      },
      summary: "Es werden {shown} von {total} verarbeiteten Zeilen angezeigt."
    },
    analyze: {
      title: "CSV analysieren",
      message: "Die Route /analizar ist aktiv. Lade deine CSV-Dateien hier, sobald du bereit bist."
    },
    analyzeUI: {
      uploadHeading: "1) CSV hochladen",
      dropHint: "Ziehe deine CSV hierher oder klicke zur Auswahl",
      headersHint: "Die CSV-Datei muss Kopfzeilen in der ersten Zeile enthalten.",
      selectFile: "Datei w√§hlen",
      fileInfo: {
        name: "Datei",
        rows: "Zeilen",
        cols: "Spalten"
      },
      mappingHeading: "2) Spaltenzuordnung",
      metricsHeading: "3) Metriken & Visualisierungen",
      previewHeading: "4) Modellvorschau (zuk√ºnftig)",
      clear: "Zur√ºcksetzen",
      showMetrics: "Metriken anzeigen",
      showCharts: "Diagramme anzeigen",
      downloadExample: "Beispiel-JSON herunterladen"
    },
    team: {
      title: "MixTechDevs ¬∑ Team",
      message: "Lerne die Menschen hinter MixTechDevs kennen.",
      roles: {
        pm: "Projektmanager",
        ds: "Data Scientist",
        be: "Backend Engineer",
        uiux: "Business Lead",
        content: "Content Creator",
        felead: "FrontEnd Lead"
      }
    },
    compare: {
      heading: "Erde vs. Exoplanet",
      description: {
        intro: "Visueller Vergleich (nicht ma√üstabsgetreu) zwischen der Erde und einem gew√§hlten Exoplaneten; die Radien skalieren mit",
        outro: "."
      },
      formula: {
        base: "r ‚àù M",
        exponent: "1/3"
      },
      inputPlaceholder: "W√§hle oder tippe einen Exoplaneten‚Ä¶",
      toggle: {
        stop: "Stopp",
        rotate: "Rotieren"
      },
      earthLabel: "Erde",
      jupiterLabel: "Jupiter",
      nullLabel: "Null",
      modes: {
        earthExo: "Erde + Auswahl",
        jupiterExo: "Jupiter + Auswahl",
        all: "Alle drei"
      },
      facts: {
        mass: "Masse",
        radius: "Visueller Radius",
        tempEq: "Gleichgewichtstemp.",
        method: "Methode",
        year: "Jahr",
        host: "Stern",
        spectralType: "Spektraltyp",
        distance: "Distanz"
      },
      suffixes: {
        mass: " M‚äï",
        radius: " R‚äï",
        temp: " K",
        distance: " pc"
      },
      disclaimer: "Hinweis: Visualisierung basiert auf Sch√§tzungen aus deinem CSV und ist nicht ma√üstabsgetreu. F√ºr reale Radien nutze Messwerte oder spezialisierte Masse-Radius-Relationen.",
      context: {
        title: "Warum vergleichen?",
        body: "Das Modul stellt CSV-basierte Daten den Erdreferenzen gegen√ºber, um Entdeckungen zu validieren."
      }
    },
    stats: {
      ariaLabel: "MixTechDevs-Entdeckungsskala",
      heading: "MixTechDevs-Entdeckungsskala",
      intro: "Schl√ºsseleindikatoren, die automatisch aus deinem Exoplaneten-CSV extrahiert wurden.",
      loading: "Metriken werden aus dem CSV berechnet‚Ä¶",
      errorPrefix: "Fehler beim Erstellen der Metriken",
      cards: {
        planets: {
          kicker: "ü™ê",
          title: "Best√§tigte Exoplaneten",
          description: "Planeten, die nach MixTechDevs-Validierung erkannt wurden."
        },
        systems: {
          kicker: "‚≠êÔ∏è",
          title: "Planetensysteme",
          description: "Zentralsterne, gruppiert aus dem verarbeiteten CSV."
        },
        multi: {
          kicker: "üñºÔ∏è",
          title: "Mehrplanetensysteme",
          description: "Sterne mit ‚â• 2 Signalen nach der Zeilenanalyse."
        },
        tempered: {
          kicker: "üåç",
          title: "Gem√§√üigte Kandidaten",
          description: "Heuristische Auswahl basierend auf Temperatur- oder Insolationsspalten des CSV."
        }
      }
    }
  }
};

export function getTranslations(lang = DEFAULT_LANG) {
  return dictionaries[SUPPORTED_LANGUAGES.includes(lang) ? lang : DEFAULT_LANG];
}

export function getLanguageSafe(lang = DEFAULT_LANG) {
  return SUPPORTED_LANGUAGES.includes(lang) ? lang : DEFAULT_LANG;
}

export function detectClientLanguage(fallback = DEFAULT_LANG) {
  if (typeof window === "undefined") return fallback;

  try {
    const urlLang = new URL(window.location.href).searchParams.get("lang");
    if (urlLang && SUPPORTED_LANGUAGES.includes(urlLang)) return urlLang;
  } catch (err) {
    // ignore URL parsing issues
  }

  try {
    const stored = window.localStorage?.getItem(LANG_COOKIE);
    if (stored && SUPPORTED_LANGUAGES.includes(stored)) return stored;
  } catch (err) {
    // ignore storage access issues
  }

  if (typeof document !== "undefined" && document.cookie) {
    const match = document.cookie
      .split("; ")
      .find((row) => row.startsWith(`${LANG_COOKIE}=`));
    if (match) {
      const value = match.split("=")[1];
      if (SUPPORTED_LANGUAGES.includes(value)) return value;
    }
  }

  return fallback;
}

export default dictionaries;
